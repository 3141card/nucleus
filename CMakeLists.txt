CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(nucleus)

# Requirements
IF(NOT CMAKE_SIZEOF_VOID_P EQUAL 8)
    MESSAGE(FATAL_ERROR "Nucleus can only be compiled on 64-bit platforms.")
ENDIF()

SET(NUCLEUS_SOLUTION_DIR ${CMAKE_CURRENT_LIST_DIR})
SET(EXECUTABLE_OUTPUT_PATH "${NUCLEUS_SOLUTION_DIR}/bin/")

IF(NOT MSVC)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")
ENDIF()

INCLUDE_DIRECTORIES(${NUCLEUS_SOLUTION_DIR})

FILE(GLOB_RECURSE NUCLEUS_FILES
    "${NUCLEUS_SOLUTION_DIR}/externals/*.cpp"
    "${NUCLEUS_SOLUTION_DIR}/externals/*.h"
    "${NUCLEUS_SOLUTION_DIR}/nucleus/*.cpp"
    "${NUCLEUS_SOLUTION_DIR}/nucleus/*.h"
)

ADD_EXECUTABLE(nucleus ${NUCLEUS_FILES})

SET_TARGET_PROPERTIES(nucleus PROPERTIES LINKER_LANGUAGE CXX)
